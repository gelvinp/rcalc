Import("env")
Import("env_app")

import renderer_builders

for renderer in env["enabled_renderers"]:
    SConscript(f'{renderer}/SCsub')


env_app.CommandNoCache(
    "#app/renderers/renderers.gen.cpp",
    None,
    env.Run(renderer_builders.gen_renderers, "Generating renderer definitions.")
)

env_app.add_source_files(env.app_sources, "#app/renderers/renderers.gen.cpp")
env_app.add_source_files(env.app_sources, "*.cpp")